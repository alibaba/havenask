load('//aios/storage:defs.bzl', 'strict_cc_library')
package(default_visibility=['//aios/storage/indexlib:__subpackages__'])
strict_cc_library(
    name='index_task_constant',
    srcs=[],
    hdrs=[],
    visibility=['//visibility:public'],
    deps=[':IndexTaskConstant']
)
strict_cc_library(
    name='merge_task',
    srcs=[],
    hdrs=[],
    visibility=['//visibility:public'],
    deps=[':LocalTabletMergeController']
)
strict_cc_library(
    name='IndexTaskConstant',
    srcs=[],
    deps=['//aios/storage/indexlib/framework/index_task:Constant']
)
strict_cc_library(
    name='VersionResource',
    deps=[
        ':IndexTaskConstant', '//aios/autil:json',
        '//aios/storage/indexlib/file_system',
        '//aios/storage/indexlib/framework:Version',
        '//aios/storage/indexlib/framework/index_task:IndexTaskContext',
        '//aios/storage/indexlib/framework/index_task:IndexTaskResource'
    ]
)
strict_cc_library(
    name='SimpleIndexTaskPlanCreator',
    deps=[
        '//aios/storage/indexlib/config:IndexTaskConfig',
        '//aios/storage/indexlib/framework/index_task:IIndexTaskPlanCreator'
    ]
)
strict_cc_library(
    name='ComplexIndexTaskPlanCreator',
    deps=[
        ':IndexTaskConstant', ':SimpleIndexTaskPlanCreator',
        '//aios/storage/indexlib/config:options',
        '//aios/storage/indexlib/framework:TabletData',
        '//aios/storage/indexlib/framework:Version',
        '//aios/storage/indexlib/framework/index_task:IIndexOperationCreator',
        '//aios/storage/indexlib/framework/index_task:IIndexTaskPlanCreator',
        '//aios/storage/indexlib/framework/index_task:IndexTaskContext',
        '//aios/storage/indexlib/framework/index_task:IndexTaskHistory'
    ]
)
strict_cc_library(
    name='LocalTabletMergeController',
    deps=[
        ':IndexTaskConstant', '//aios/alog',
        '//aios/storage/indexlib/config:TabletOptions',
        '//aios/storage/indexlib/config:schema',
        '//aios/storage/indexlib/framework:ITabletMergeController',
        '//aios/storage/indexlib/framework:TabletFactoryCreator',
        '//aios/storage/indexlib/framework:VersionValidator',
        '//aios/storage/indexlib/framework/index_task:CustomIndexTaskFactory',
        '//aios/storage/indexlib/framework/index_task:CustomIndexTaskFactoryCreator',
        '//aios/storage/indexlib/framework/index_task:IndexTaskContextCreator',
        '//aios/storage/indexlib/framework/index_task:IndexTaskResource',
        '//aios/storage/indexlib/framework/index_task:LocalExecuteEngine',
        '//aios/storage/indexlib/util:Clock'
    ]
)
