load('//aios/storage:defs.bzl', 'strict_cc_library')
package(
    default_visibility=[
        '//aios/storage/indexlib/index/primary_key:__subpackages__'
    ]
)
strict_cc_library(
    name='PrimaryKeyMerger',
    srcs=[],
    hdrs=['PrimaryKeyMerger.h'],
    deps=[
        ':OnDiskHashPrimaryKeyIterator', ':OnDiskOrderedPrimaryKeyIterator',
        ':PrimaryKeyAttributeMerger',
        '//aios/storage/indexlib/framework:Segment',
        '//aios/storage/indexlib/framework:SegmentMeta',
        '//aios/storage/indexlib/framework/index_task:IndexTaskResourceManager',
        '//aios/storage/indexlib/index:DocMapper',
        '//aios/storage/indexlib/index:IIndexMerger',
        '//aios/storage/indexlib/index:IndexFactoryCreator',
        '//aios/storage/indexlib/index/common:PlainDocMapper',
        '//aios/storage/indexlib/index/primary_key:primary_key_indexer'
    ]
)
strict_cc_library(
    name='PrimaryKeyAttributeMerger',
    deps=[
        '//aios/storage/indexlib/index/attribute:merger',
        '//aios/storage/indexlib/index/primary_key:primary_key_indexer',
        '//aios/storage/indexlib/index/primary_key/config:PrimaryKeyIndexConfig'
    ]
)
strict_cc_library(
    name='OnDiskHashPrimaryKeyIterator',
    srcs=[],
    hdrs=['OnDiskHashPrimaryKeyIterator.h'],
    deps=[
        '//aios/storage/indexlib/index/primary_key:primary_key_reader_interface'
    ]
)
strict_cc_library(
    name='OnDiskOrderedPrimaryKeyIterator',
    srcs=[],
    hdrs=['OnDiskOrderedPrimaryKeyIterator.h'],
    deps=[
        '//aios/storage/indexlib/index/primary_key:primary_key_reader_interface'
    ]
)
